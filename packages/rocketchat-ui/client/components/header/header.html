<template name="header">
	<header class="rc-header">
		{{> burger}}
		{{#if isChannel}}
			<!-- This still needs better naming -->
			<div class="rc-header__room-info">
				{{#if showToggleFavorite}}
					<a href="#favorite" class="rc-header__toggle-favorite {{state}}">{{> icon block="rc-header__icon" icon="star"}}</a>
				{{/if}}

				{{#if isDirect}}
					<div class="rc-header__room-image">
						<div class="avatar">
							<div class="avatar-image" style="{{avatarBackground}}"></div>
						</div>
					</div>
				{{/if}}

				<div class="rc-header__room-title">
					{{#unless secondaryName}}
						<span class="rc-header__channel-name">{{> icon block="rc-header__icon" icon=channelIcon}}{{roomName}}</span>
					{{else}}
						<div class="rc-header__channel-name">{{roomName}} <div class="rc-header__username">{{> icon block="rc-header__icon" icon=channelIcon}}{{secondaryName}}</div></div>
					{{/unless}}

					{{#if isDirect}}
					<span class="rc-header__status">
							<div class="rc-header__status-bullet rc-header__status-bullet--{{userStatus}}" title="{{userStatus}}"></div>
							<div class="rc-header__status-visual-status">{{userStatus}}</div>
						</span>
					{{else}}
						<span class="rc-header__topic">{{{RocketChatMarkdown roomTopic}}}</span>
					{{/if}}
				</div>

				{{#if sentimentSmile}}
					<span class="sentiment">{{sentimentSmile}}</span>
				{{/if}}
				{{#if isTranslated}}
					<i class="icon-language" aria-label="{{_ "Translated"}}"></i>
				{{/if}}
			</div>
		{{/if}}

		{{#if isSection}}
			<span class="rc-header__section-title">{{_ sectionName}}</span>
		{{/if}}

		{{#if buttons}}
			{{> Template.contentBlock}}
		{{/if}}

		{{#unless isChannel}}
			<div class="rc-header__section-help"></div>
		{{/unless}}


		{{#with toolbarButtons}}
			<div class="iframe-toolbar">
				{{#each buttons}}
					<button class="{{id}}">
						{{#if icon}}<i class="{{icon}}"></i>{{/if}}
						{{label}}
					</button>
				{{/each}}
			</div>
		{{/with}}
	</header>
</template>